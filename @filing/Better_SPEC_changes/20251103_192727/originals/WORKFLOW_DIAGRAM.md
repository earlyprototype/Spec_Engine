# SPEC Engine Workflow Diagram

**Complete lifecycle from goal to execution to completion**

---

## High-Level Overview

```
USER GOAL â†’ SPEC GENERATION â†’ HUMAN REVIEW â†’ FILE GENERATION â†’ VALIDATION â†’ EXECUTION â†’ VERIFICATION â†’ COMPLETE
```

---

## System Architecture Diagram

### Complete SPEC Engine Ecosystem

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              SPEC ENGINE ARCHITECTURE                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                  USER LAYER                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚   Define    â”‚        â”‚   Review &   â”‚        â”‚   Monitor       â”‚           â”‚
â”‚  â”‚   Goal      â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   Approve    â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   Execution     â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                         â”‚                         â”‚
         â–¼                         â–¼                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              FRAMEWORK LAYER                                    â”‚
â”‚                          (__SPEC_Engine directory)                              â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚   CONSTITUTIONAL   â”‚           â”‚      GENERATION      â”‚                     â”‚
â”‚  â”‚      LAYER         â”‚           â”‚        LAYER         â”‚                     â”‚
â”‚  â”‚                    â”‚           â”‚                      â”‚                     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚           â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                     â”‚
â”‚  â”‚  â”‚constitution  â”‚  â”‚â—€â”€â”€governsâ”€â”€â”‚  â”‚  Commander    â”‚  â”‚                     â”‚
â”‚  â”‚  â”‚    .md       â”‚  â”‚           â”‚  â”‚  Spec.md      â”‚  â”‚                     â”‚
â”‚  â”‚  â”‚              â”‚  â”‚           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                     â”‚
â”‚  â”‚  â”‚ 14 Articles  â”‚  â”‚           â”‚          â”‚          â”‚                     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚           â”‚          â–¼          â”‚                     â”‚
â”‚  â”‚                    â”‚           â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚           â”‚  â”‚   Templates   â”‚  â”‚                     â”‚
â”‚  â”‚  â”‚  DESIGN_     â”‚  â”‚           â”‚  â”‚               â”‚  â”‚                     â”‚
â”‚  â”‚  â”‚  PHILOSOPHY  â”‚  â”‚           â”‚  â”‚ â€¢ Spec.md     â”‚  â”‚                     â”‚
â”‚  â”‚  â”‚    .md       â”‚  â”‚           â”‚  â”‚ â€¢ params.toml â”‚  â”‚                     â”‚
â”‚  â”‚  â”‚              â”‚  â”‚           â”‚  â”‚ â€¢ exe.md      â”‚  â”‚                     â”‚
â”‚  â”‚  â”‚ Rationale    â”‚  â”‚           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚           â”‚                      â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚               CONFIGURATION LAYER                        â”‚                  â”‚
â”‚  â”‚                                                           â”‚                  â”‚
â”‚  â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚                  â”‚
â”‚  â”‚              â”‚     DNA_SPEC.md      â”‚                    â”‚                  â”‚
â”‚  â”‚              â”‚                      â”‚                    â”‚                  â”‚
â”‚  â”‚              â”‚  5-Question          â”‚                    â”‚                  â”‚
â”‚  â”‚              â”‚  Interview           â”‚                    â”‚                  â”‚
â”‚  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚                  â”‚
â”‚  â”‚                         â”‚                                â”‚                  â”‚
â”‚  â”‚                         â–¼                                â”‚                  â”‚
â”‚  â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚                  â”‚
â”‚  â”‚              â”‚  project_            â”‚                    â”‚                  â”‚
â”‚  â”‚              â”‚  constitution.toml   â”‚                    â”‚                  â”‚
â”‚  â”‚              â”‚                      â”‚                    â”‚                  â”‚
â”‚  â”‚              â”‚  â€¢ Risk level        â”‚                    â”‚                  â”‚
â”‚  â”‚              â”‚  â€¢ Test strategy     â”‚                    â”‚                  â”‚
â”‚  â”‚              â”‚  â€¢ Execution mode    â”‚                    â”‚                  â”‚
â”‚  â”‚              â”‚  â€¢ Backend prefs     â”‚                    â”‚                  â”‚
â”‚  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ generates
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              SPECIFICATION LAYER                                â”‚
â”‚                           (SPECs/[DNA_CODE]/spec_[descriptor]/)                 â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  spec_[desc].md     â”‚   â”‚ parameters_[desc]    â”‚   â”‚  exe_[desc].md     â”‚  â”‚
â”‚  â”‚                     â”‚   â”‚       .toml          â”‚   â”‚                    â”‚  â”‚
â”‚  â”‚  Human Story        â”‚â—€â”€â–¶â”‚                      â”‚   â”‚  Executor Logic    â”‚  â”‚
â”‚  â”‚                     â”‚   â”‚  Machine Config      â”‚â—€â”€â–¶â”‚                    â”‚  â”‚
â”‚  â”‚  â€¢ Goal             â”‚   â”‚                      â”‚   â”‚  â€¢ Validation      â”‚  â”‚
â”‚  â”‚  â€¢ Tasks            â”‚   â”‚  â€¢ Task structure    â”‚   â”‚  â€¢ Execution flow  â”‚  â”‚
â”‚  â”‚  â€¢ Steps            â”‚   â”‚  â€¢ Flags & settings  â”‚   â”‚  â€¢ Mode control    â”‚  â”‚
â”‚  â”‚  â€¢ Backups          â”‚   â”‚  â€¢ Expected outputs  â”‚   â”‚  â€¢ Analysis        â”‚  â”‚
â”‚  â”‚  â€¢ Reasoning        â”‚   â”‚  â€¢ Constraints       â”‚   â”‚  â€¢ Verification    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚             â”‚
â”‚                                                                  â”‚ executes    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                   â”‚
                                                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              EXECUTION LAYER                                    â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                          INITIALIZATION PHASE                             â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ File Check   â”‚â”€â–¶â”‚ Parse Files   â”‚â”€â–¶â”‚  Validation  â”‚â”€â–¶â”‚ Mode       â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ (Section 1.1)â”‚  â”‚ (Section 1.3) â”‚  â”‚ (1.4-1.10)   â”‚  â”‚ Selection  â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚                                         â”‚
â”‚                                       â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                          EXECUTION PHASE                                  â”‚  â”‚
â”‚  â”‚                                                                            â”‚  â”‚
â”‚  â”‚  FOR EACH TASK (sequential):                                              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚Constitutionalâ”‚       â”‚   Execute    â”‚      â”‚  Dynamic Mode  â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚    Check     â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚   Steps      â”‚â”€â”€â”€â”€â”€â–¶â”‚  Evaluation    â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ (Section 2.0)â”‚       â”‚ (Section 2.1)â”‚      â”‚ (Section 2.2)  â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                 â”‚                                   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚         FOR EACH STEP:          â–¼                                   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚         â”‚  1. Read prior outcomes (error prop)    â”‚                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚         â”‚  2. Attempt PRIMARY method              â”‚                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚         â”‚  3. If fail â†’ Try BACKUP [1]            â”‚                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚         â”‚  4. If fail â†’ Try BACKUP [2]            â”‚                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚         â”‚  5. If critical + all fail â†’ Escalate   â”‚                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚         â”‚  6. Log to progress.json                â”‚                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚                                         â”‚
â”‚                                       â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      POST-EXECUTION ANALYSIS                              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚   Failure     â”‚  â”‚  Constitutional â”‚  â”‚   Completion            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚   Pattern     â”‚â”€â–¶â”‚   Compliance    â”‚â”€â–¶â”‚   Verification          â”‚    â”‚  â”‚
â”‚  â”‚  â”‚   Analysis    â”‚  â”‚   Review        â”‚  â”‚   (Section 6.4)         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚ (Section 6.1) â”‚  â”‚ (Section 6.2)   â”‚  â”‚                         â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                          â”‚
                                                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              PERSISTENCE LAYER                                  â”‚
â”‚                                                                                 â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚              â”‚      progress_[descriptor].json                â”‚                â”‚
â”‚              â”‚                                                â”‚                â”‚
â”‚              â”‚  Immutable append-only log containing:         â”‚                â”‚
â”‚              â”‚  â€¢ All step outcomes                           â”‚                â”‚
â”‚              â”‚  â€¢ Methods attempted (primary/backup)          â”‚                â”‚
â”‚              â”‚  â€¢ Retry counts and mode switches              â”‚                â”‚
â”‚              â”‚  â€¢ Error propagation decisions                 â”‚                â”‚
â”‚              â”‚  â€¢ Constitutional compliance tracking          â”‚                â”‚
â”‚              â”‚  â€¢ Post-execution analysis                     â”‚                â”‚
â”‚              â”‚  â€¢ Final goal achievement status               â”‚                â”‚
â”‚              â”‚                                                â”‚                â”‚
â”‚              â”‚  STATUS: ACHIEVED | PARTIAL | NOT_ACHIEVED     â”‚                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

LEGEND:
  â”€â”€â–¶  Data flow / Process flow
  â—€â”€â–¶  Bidirectional synchronisation / Cross-reference
  â”‚    Sequential relationship
  â•â•â•  Constitutional governance
```

### Key Architectural Principles

1. **Separation of Concerns:**
   - Constitutional: Immutable governance (Articles I-XIV)
   - Generation: Commander creates specs from templates
   - Configuration: Optional project-level settings (DNA)
   - Specification: Three synchronized files per goal
   - Execution: Validation â†’ Execution â†’ Analysis â†’ Verification
   - Persistence: Immutable audit trail

2. **Hierarchical Governance:**
   ```
   System Constitution (immutable)
        â†“ governs
   Project Constitution (per-project, optional)
        â†“ configures
   Individual SPEC (per-goal, required)
        â†“ executed by
   Executor (validates, executes, verifies)
        â†“ produces
   Progress Log (immutable audit trail)
   ```

3. **Validation Checkpoints:**
   - **Pre-Generation:** Commander validates constitutional compliance
   - **Pre-Execution:** Exe Section 1 validates files and structure
   - **Runtime:** Exe Section 2.0 checks compliance per task
   - **Post-Execution:** Exe Section 6.2 reviews adherence
   - **Completion:** Exe Section 6.4 verifies goal achievement

4. **Error Handling Layers:**
   - **Step Level:** Primary â†’ Backup[1] â†’ Backup[2]
   - **Task Level:** Error propagation between steps
   - **SPEC Level:** Dynamic mode escalation to collaborative
   - **System Level:** Constitutional violation tracking

---

## Detailed Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SPEC GENERATION PHASE                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[USER INPUT TO LLM]
  â”‚
  â”œâ”€â†’ "Launch SPEC Commander to build a charity shop POS system for volunteers"
  â””â”€â†’ "Launch SPEC Commander with 'Specs/[DNA_CODE]' to continue SPEC development to analyse user sentiment in 10k product reviews"
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 1: Project Setup & Initialization                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                             â”‚
â”‚  Run Spec_Commander.md                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 1a: Project Profile Detection                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                 â”‚
â”‚  Commander checks: Does DNA folder exist in Specs/?             â”‚
â”‚  (Scans for 8-char folders [A,T,G,C] with project_constitution.toml)
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ IF FOUND:                                            â”‚       â”‚
â”‚  â”‚ âœ… Load existing project_constitution.toml          â”‚       â”‚
â”‚  â”‚ Display: "Using project: [NAME] (DNA: [CODE])"      â”‚       â”‚
â”‚  â”‚ â†’ Proceed to Step 1b                                â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ IF NOT FOUND:                                        â”‚       â”‚
â”‚  â”‚ âš ï¸ Prompt user:                                      â”‚       â”‚
â”‚  â”‚   [A] Create profile now (invokes DNA_SPEC.md)      â”‚       â”‚
â”‚  â”‚   [B] Skip - use system defaults                    â”‚       â”‚
â”‚  â”‚   [C] Enter existing DNA code                       â”‚       â”‚
â”‚  â”‚                                                       â”‚       â”‚
â”‚  â”‚ IF [A]: Commander invokes DNA_SPEC.md:              â”‚       â”‚
â”‚  â”‚   Q1: What are you trying to achieve?               â”‚       â”‚
â”‚  â”‚   Q2: How will you measure success?                 â”‚       â”‚
â”‚  â”‚   Q3: Critical risks/constraints?                   â”‚       â”‚
â”‚  â”‚   Q4: Required software stack?                      â”‚       â”‚
â”‚  â”‚   Q5: Preferred approach to failures?               â”‚       â”‚
â”‚  â”‚   â†’ Generates DNA code (e.g., ATGCATGC)             â”‚       â”‚
â”‚  â”‚   â†’ Creates Specs/[DNA_CODE]/project_constitution.toml     â”‚
â”‚  â”‚   â†’ Returns to Commander                            â”‚       â”‚
â”‚  â”‚                                                       â”‚       â”‚
â”‚  â”‚ IF [B]: Continue with system defaults only          â”‚       â”‚
â”‚  â”‚ IF [C]: Validate & load specified DNA code          â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 1b: Context Loading                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                       â”‚
â”‚  Commander reads:                                               â”‚
â”‚  â€¢ DESIGN_PHILOSOPHY.md (principles, patterns, anti-patterns)   â”‚
â”‚  â€¢ constitution.md (Articles I-XIV, governance rules)           â”‚
â”‚  â€¢ project_constitution.toml (if DNA profile exists)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 1c: Folder Preparation                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                    â”‚
â”‚  Create: Specs/[DNA_CODE]/spec_[descriptor]/                    â”‚
â”‚  Placeholder for 3 files + progress.json                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 2: Draft High-Level Structure                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                 â”‚
â”‚  Commander analyses goal and drafts:                            â”‚
â”‚  âœ“ Goal (singular, clear, measurable)                           â”‚
â”‚  âœ“ Definition of Complete (what exists + how to verify)        â”‚
â”‚  âœ“ Tasks (2-5 high-level objectives)                            â”‚
â”‚  âœ“ Software Stack (if build/create goal)                        â”‚
â”‚  âœ“ Estimated complexity                                         â”‚
â”‚                                                                  â”‚
â”‚  âš  NO DETAILED STEPS YET                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 2.5: MCP Tool Analysis (NEW)                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                 â”‚
â”‚  Commander examines goal and recommends MCP tools:              â”‚
â”‚                                                                  â”‚
â”‚  1. Load: __SPEC_Engine/_tools/mcp_tools_catalog.yaml          â”‚
â”‚     (269 servers, 2900+ tools, 24 categories)                   â”‚
â”‚                                                                  â”‚
â”‚  2. Analyse goal characteristics autonomously:                  â”‚
â”‚     - What activity? (build, analyse, research, etc.)           â”‚
â”‚     - What resources? (files, databases, APIs, etc.)            â”‚
â”‚     - What outputs? (code, reports, data, etc.)                 â”‚
â”‚     - What scale? (script, app, pipeline, system)               â”‚
â”‚                                                                  â”‚
â”‚  3. Identify relevant tool categories                           â”‚
â”‚     - Review 24 categories in catalog                           â”‚
â”‚     - Consider full lifecycle (not just primary task)           â”‚
â”‚     - Think cross-functionally                                  â”‚
â”‚                                                                  â”‚
â”‚  4. Evaluate and classify individual tools:                     â”‚
â”‚     âœ“ REQUIRED: Goal cannot be achieved without                 â”‚
â”‚     âœ“ RECOMMENDED: Significantly improves efficiency            â”‚
â”‚     âœ“ OPTIONAL: Nice to have, enhances workflow                 â”‚
â”‚                                                                  â”‚
â”‚  5. Document rationale for each tool selection                  â”‚
â”‚                                                                  â”‚
â”‚  Output: MCP Toolset recommendations (added to proposal)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ  STEP 3a: MANDATORY HUMAN REVIEW & TOOL INSTALLATION (NEW)    â”ƒ
â”ƒ  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•         â”ƒ
â”ƒ  ğŸš¨ NO SILENT MODE - SINGLE PAUSE POINT ğŸš¨                     â”ƒ
â”ƒ                                                                 â”ƒ
â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”ƒ
â”ƒ  â”‚ PHASE 1: Present Complete Proposal                       â”‚ â”ƒ
â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”ƒ
â”ƒ                                                                 â”ƒ
â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”ƒ
â”ƒ  â”‚ SPEC PROPOSAL FOR REVIEW                    â”‚               â”ƒ
â”ƒ  â”‚                                              â”‚               â”ƒ
â”ƒ  â”‚ Goal: [singular statement]                  â”‚               â”ƒ
â”ƒ  â”‚                                              â”‚               â”ƒ
â”ƒ  â”‚ Definition of Complete:                     â”‚               â”ƒ
â”ƒ  â”‚ â€¢ Primary deliverable: [...]                â”‚               â”ƒ
â”ƒ  â”‚ â€¢ Quality standards: [...]                  â”‚               â”ƒ
â”ƒ  â”‚ â€¢ Verification method: [...]                â”‚               â”ƒ
â”ƒ  â”‚                                              â”‚               â”ƒ
â”ƒ  â”‚ MCP Toolset: (NEW)                          â”‚               â”ƒ
â”ƒ  â”‚ REQUIRED (2): postgres, github              â”‚               â”ƒ
â”ƒ  â”‚ RECOMMENDED (1): playwright                 â”‚               â”ƒ
â”ƒ  â”‚ OPTIONAL (1): notion                        â”‚               â”ƒ
â”ƒ  â”‚                                              â”‚               â”ƒ
â”ƒ  â”‚ Tasks:                                       â”‚               â”ƒ
â”ƒ  â”‚ 1. [High-level objective]                   â”‚               â”ƒ
â”ƒ  â”‚ 2. [High-level objective]                   â”‚               â”ƒ
â”ƒ  â”‚ 3. [High-level objective]                   â”‚               â”ƒ
â”ƒ  â”‚                                              â”‚               â”ƒ
â”ƒ  â”‚ Software Stack: (if applicable)             â”‚               â”ƒ
â”ƒ  â”‚ â€¢ Deployment type: desktop_app              â”‚               â”ƒ
â”ƒ  â”‚ â€¢ Language: Python                          â”‚               â”ƒ
â”ƒ  â”‚ â€¢ UI: PyQt5 GUI                             â”‚               â”ƒ
â”ƒ  â”‚ â€¢ Packaging: PyInstaller                    â”‚               â”ƒ
â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”ƒ
â”ƒ                                                                 â”ƒ
â”ƒ  User Options:                                                  â”ƒ
â”ƒ  [A] APPROVE â†’ I will install tools now                        â”ƒ
â”ƒ  [R] REVISE structure or toolset                               â”ƒ
â”ƒ  [T] MODIFY tools only                                         â”ƒ
â”ƒ  [C] CLARIFY â†’ Ask questions                                   â”ƒ
â”ƒ                                                                 â”ƒ
â”ƒ  IF [R]/[T]: Loop until satisfied, then [A]                    â”ƒ
â”ƒ  IF [C]: Answer, re-present, get [A]                           â”ƒ
â”ƒ                                                                 â”ƒ
â”ƒ  â¸ EXECUTION PAUSED UNTIL USER RESPONDS                        â”ƒ
â”ƒ                                                                 â”ƒ
â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”ƒ
â”ƒ  â”‚ PHASE 2: Installation (After [A] Approved)               â”‚ â”ƒ
â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”ƒ
â”ƒ                                                                 â”ƒ
â”ƒ  Commander displays:                                            â”ƒ
â”ƒ  âœ… Structure & Toolset Approved                               â”ƒ
â”ƒ                                                                 â”ƒ
â”ƒ  REQUIRED Tools (must install):                                â”ƒ
â”ƒ  1. postgres: npm install @modelcontextprotocol/...            â”ƒ
â”ƒ  2. github: npm install @modelcontextprotocol/...              â”ƒ
â”ƒ                                                                 â”ƒ
â”ƒ  RECOMMENDED Tools (optional):                                 â”ƒ
â”ƒ  3. playwright: npm install @modelcontextprotocol/...          â”ƒ
â”ƒ                                                                 â”ƒ
â”ƒ  Instructions:                                                  â”ƒ
â”ƒ  1. Run install commands in terminal                           â”ƒ
â”ƒ  2. Configure MCP client config (OS-specific path shown)       â”ƒ
â”ƒ  3. Restart MCP client                                         â”ƒ
â”ƒ  4. Test (optional)                                            â”ƒ
â”ƒ                                                                 â”ƒ
â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”ƒ
â”ƒ  â”‚ ğŸ‘¤ HUMAN INSTALLS TOOLS NOW        â”‚                        â”ƒ
â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”ƒ
â”ƒ                                                                 â”ƒ
â”ƒ  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”ƒ
â”ƒ  â”‚ PHASE 3: Confirm Installation                            â”‚ â”ƒ
â”ƒ  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”ƒ
â”ƒ                                                                 â”ƒ
â”ƒ  [Y] Installed â†’ Proceed to Step 4                             â”ƒ
â”ƒ  [N] Failed â†’ Troubleshoot, loop                               â”ƒ
â”ƒ  [S] Skip â†’ Warning + proceed (not recommended)                â”ƒ
â”ƒ                                                                 â”ƒ
â”ƒ  â¸ EXECUTION PAUSED UNTIL [Y] CONFIRMED                        â”ƒ
â”ƒ                                                                 â”ƒ
â”ƒ  âœ… EXIT: Structure approved + Tools installed                 â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
      â”‚
      â”‚ [USER CONFIRMED INSTALLATION]
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 4: Generate Detailed Steps and Files                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                          â”‚
â”‚  NOW generate for each approved task:                           â”‚
â”‚  âœ“ Concrete steps (1-5 per task)                                â”‚
â”‚  âœ“ Backup methods (0-2 per step)                                â”‚
â”‚  âœ“ Critical flags (40-60% of steps)                             â”‚
â”‚  âœ“ Expected outputs (specific, measurable)                      â”‚
â”‚  âœ“ Execution modes (dynamic default)                            â”‚
â”‚                                                                  â”‚
â”‚  Generate 3 files:                                              â”‚
â”‚  â–¸ spec_[descriptor].md (human-readable)                        â”‚
â”‚  â–¸ parameters_[descriptor].toml (machine-readable)              â”‚
â”‚  â–¸ exe_[descriptor].md (execution controller)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 5: Pre-Flight Validation                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚
â”‚  5a. Constitutional Compliance Check                            â”‚
â”‚      â€¢ Article I: Goal singular?                                â”‚
â”‚      â€¢ Article II: 2-5 tasks, 1-5 steps per task?               â”‚
â”‚      â€¢ Article VI: 40-60% critical balance?                     â”‚
â”‚      â€¢ Article XIV: Software stack defined (if build goal)?     â”‚
â”‚                                                                  â”‚
â”‚  5b. Software Stack Validation (if build/create goal)           â”‚
â”‚      â€¢ deployment_type defined?                                 â”‚
â”‚      â€¢ user_interface.required = true (if "for [users]")?       â”‚
â”‚      â€¢ completion_criteria populated?                           â”‚
â”‚                                                                  â”‚
â”‚  5c. Structural Validation                                      â”‚
â”‚      â€¢ Tasks decompose goal logically?                          â”‚
â”‚      â€¢ Steps are concrete actions?                              â”‚
â”‚      â€¢ Backups are alternatives (not retries)?                  â”‚
â”‚                                                                  â”‚
â”‚  5d. Quality Gates                                              â”‚
â”‚      âœ… PASS: All checks green â†’ Proceed                        â”‚
â”‚      âŒ FAIL: Violations found â†’ HALT, request fixes            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚ [VALIDATION PASS]
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 6: Output Complete SPEC                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                   â”‚
â”‚  Specs/[DNA_CODE]/spec_[descriptor]/                            â”‚
â”‚  â”œâ”€â”€ spec_[descriptor].md                                       â”‚
â”‚  â”œâ”€â”€ parameters_[descriptor].toml                               â”‚
â”‚  â”œâ”€â”€ exe_[descriptor].md                                        â”‚
â”‚  â””â”€â”€ progress_[descriptor].json (created at runtime)            â”‚
â”‚                                                                  â”‚
â”‚  âœ… SPEC GENERATION COMPLETE                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          EXECUTION PHASE                             â”‚
â”‚                     (exe_[descriptor].md Process)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[USER INVOKES EXECUTION IN LLM]
  â”‚
  â””â”€â†’ "Run spec_[descriptor]" or "Execute SPEC"
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SECTION 1: Initialization and Validation                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                           â”‚
â”‚  1.1  File presence check                                       â”‚
â”‚  1.1a Software Stack Validation (if build goal)                 â”‚
â”‚  1.2  Initialize progress.json                                  â”‚
â”‚  1.2a USER MODE SELECTION (Dynamic/Silent/Collaborative)        â”‚
â”‚  1.3  Parse spec.md and parameters.toml                         â”‚
â”‚  1.4  Validate goal                                             â”‚
â”‚  1.5  Validate tasks                                            â”‚
â”‚  1.6  Validate steps                                            â”‚
â”‚  1.7  Validate backups                                          â”‚
â”‚  1.8  Bridging verification (Markdown â†” TOML sync)              â”‚
â”‚  1.9  Validate components and constraints                       â”‚
â”‚  1.10 Final pre-flight check                                    â”‚
â”‚                                                                  â”‚
â”‚  âœ… IF PASS: Proceed to Section 2                               â”‚
â”‚  âŒ IF FAIL: HALT, log errors, escalate to collaborative        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SECTION 2: Execution Flow (Per Task)                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                   â”‚
â”‚  FOR EACH TASK (sequentially):                                  â”‚
â”‚                                                                  â”‚
â”‚  2.0 Constitutional Compliance Check (per task)                 â”‚
â”‚      â€¢ Article IV: Error propagation enabled?                   â”‚
â”‚      â€¢ Article VI: Critical balance appropriate?                â”‚
â”‚      â€¢ Article VIII: Prior step outcomes read?                  â”‚
â”‚      â€¢ Article X: Logging comprehensive?                        â”‚
â”‚                                                                  â”‚
â”‚  2.1 Execute Task Steps (sequentially)                          â”‚
â”‚      FOR EACH STEP:                                             â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚      â”‚ â€¢ Read progress.json (error prop)  â”‚                    â”‚
â”‚      â”‚ â€¢ Execute PRIMARY method           â”‚                    â”‚
â”‚      â”‚ â€¢ IF FAIL: Try BACKUP [1]          â”‚                    â”‚
â”‚      â”‚ â€¢ IF FAIL: Try BACKUP [2]          â”‚                    â”‚
â”‚      â”‚ â€¢ IF FAIL: Escalate (if critical)  â”‚                    â”‚
â”‚      â”‚ â€¢ Log outcome to progress.json     â”‚                    â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                  â”‚
â”‚  2.2 Dynamic Mode Evaluation (per step)                         â”‚
â”‚      Check for escalation triggers:                             â”‚
â”‚      â€¢ 3+ consecutive failures?                                 â”‚
â”‚      â€¢ Backup depletion pattern?                                â”‚
â”‚      â€¢ Confidence degradation?                                  â”‚
â”‚      â€¢ Critical step failure?                                   â”‚
â”‚      â†’ IF TRIGGERED: Switch to collaborative mode               â”‚
â”‚                                                                  â”‚
â”‚  2.3 Log Progress                                               â”‚
â”‚      Record to progress.json:                                   â”‚
â”‚      â€¢ task_id, step_id, status                                 â”‚
â”‚      â€¢ method_used (primary/backup[n])                          â”‚
â”‚      â€¢ retry_count, timestamp, mode                             â”‚
â”‚      â€¢ error_propagation_decisions                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚ [ALL TASKS COMPLETE]
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SECTION 6: Post-Execution Analysis                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                 â”‚
â”‚  6.1 Failure Pattern Analysis                                   â”‚
â”‚      â€¢ Which steps frequently fail?                             â”‚
â”‚      â€¢ Which backups work best?                                 â”‚
â”‚      â€¢ Overall failure rate?                                    â”‚
â”‚                                                                  â”‚
â”‚  6.2 Constitutional Compliance Review                           â”‚
â”‚      â€¢ Article VI: Was critical balance appropriate?            â”‚
â”‚      â€¢ Article VII: Were backups effective alternatives?        â”‚
â”‚      â€¢ Article VIII: Did error propagation work?                â”‚
â”‚      â€¢ Article IX: Were mode escalations appropriate?           â”‚
â”‚      â€¢ Article X: Is logging complete?                          â”‚
â”‚      â†’ Compliance score (0-100)                                 â”‚
â”‚                                                                  â”‚
â”‚  6.3 Append Analysis to progress.json                           â”‚
â”‚                                                                  â”‚
â”‚  6.4 Completion Verification (MANDATORY)                        â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚      â”‚ Universal Checks (ALL goals):            â”‚              â”‚
â”‚      â”‚ âœ“ Primary deliverable exists?            â”‚              â”‚
â”‚      â”‚ âœ“ Quality standards met?                 â”‚              â”‚
â”‚      â”‚ âœ“ Verification method passed?            â”‚              â”‚
â”‚      â”‚                                           â”‚              â”‚
â”‚      â”‚ Additional for Build Goals:              â”‚              â”‚
â”‚      â”‚ âœ“ Deployment artifact exists?            â”‚              â”‚
â”‚      â”‚   (exe, web app, package, etc.)          â”‚              â”‚
â”‚      â”‚ âœ“ User interface implemented?            â”‚              â”‚
â”‚      â”‚   (if user_interface.required = true)    â”‚              â”‚
â”‚      â”‚ âœ“ Production ready?                      â”‚              â”‚
â”‚      â”‚   (real APIs, not test mode)             â”‚              â”‚
â”‚      â”‚ âœ“ User documentation exists?             â”‚              â”‚
â”‚      â”‚   (if "for [users]" in goal)             â”‚              â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                  â”‚
â”‚  Status Assignment:                                             â”‚
â”‚  âœ… ACHIEVED: All applicable checks PASS                        â”‚
â”‚  âš ï¸ PARTIAL: Core works but deployment/quality incomplete       â”‚
â”‚  âŒ NOT ACHIEVED: Core deliverable missing/broken               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  COMPLETION                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                      â”‚
â”‚  â€¢ Final status logged to progress.json                         â”‚
â”‚  â€¢ Recommendations for future SPECs generated                   â”‚
â”‚  â€¢ User notified of completion status                           â”‚
â”‚                                                                  â”‚
â”‚  âœ… EXECUTION COMPLETE                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Key Decision Points

### 1. Project Detection (Step 1a)
**When:** Commander starts - first action  
**How:** Scans `Specs/` for 8-character DNA folders [A,T,G,C]  
**Options:** Load existing / Create new / Skip  
**Purpose:** Determine if continuing existing project or starting new

### 2. Mandatory Human Review (Step 3)
**When:** After high-level structure drafted, before detailed steps  
**Why:** Catch structural issues early, prevent wasted effort  
**Options:** Approve / Revise / Clarify  
**Can't skip:** No silent mode allowed

### 3. User Mode Selection (Execution Section 1.2a)
**When:** After initialization, before validation  
**Options:** Dynamic (default) / Silent / Collaborative  
**Default:** Dynamic (balances autonomy with safety)

### 4. Dynamic Mode Escalation (Execution Section 2.2)
**When:** During step execution  
**Triggers:** Consecutive failures, backup depletion, critical failure  
**Action:** Auto-escalate to collaborative mode

### 5. Completion Verification (Execution Section 6.4)
**When:** Before marking goal ACHIEVED  
**Checks:** Universal (all goals) + Build-specific (if applicable)  
**Prevents:** Marking incomplete systems as complete

---

## File Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User provides goal â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
     â”‚ Commander â”‚ (generates)
     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
           â”‚
     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ SPEC Files (3):                    â”‚
     â”‚ â€¢ spec_[descriptor].md             â”‚
     â”‚ â€¢ parameters_[descriptor].toml     â”‚
     â”‚ â€¢ exe_[descriptor].md              â”‚
     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
     â”‚    Exe    â”‚ (executes)
     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
           â”‚
     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ progress_[descriptor].json         â”‚
     â”‚ (runtime log + completion status)  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Governance Hierarchy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  System Constitution (immutable)    â”‚
â”‚  Articles I-XIV                     â”‚
â”‚  __SPEC_Engine/_Constitution/       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ governs
        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
        â”‚  Commander  â”‚
        â”‚  generates  â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Project Constitution         â”‚
        â”‚  (optional, per DNA)          â”‚
        â”‚  Specs/[DNA_CODE]/            â”‚
        â”‚  project_constitution.toml    â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ configures
        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
        â”‚ Individual  â”‚
        â”‚    SPEC     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## File System Requirements

### Expected Directory Structure

The SPEC Engine assumes the following workspace organisation:

```
[Your Workspace Root]/
â”‚
â”œâ”€â”€ __SPEC_Engine/               # Framework files (this directory)
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ WORKFLOW_DIAGRAM.md
â”‚   â”œâ”€â”€ COHERENCE_REVIEW.md
â”‚   â”œâ”€â”€ GETTING_STARTED.md
â”‚   â”‚
â”‚   â”œâ”€â”€ _Constitution/
â”‚   â”‚   â”œâ”€â”€ constitution.md
â”‚   â”‚   â””â”€â”€ DESIGN_PHILOSOPHY.md
â”‚   â”‚
â”‚   â”œâ”€â”€ _Commander_SPEC/
â”‚   â”‚   â””â”€â”€ Spec_Commander.md
â”‚   â”‚
â”‚   â”œâ”€â”€ _DNA/
â”‚   â”‚   â””â”€â”€ DNA_SPEC.md
â”‚   â”‚
â”‚   â””â”€â”€ _templates/
â”‚       â”œâ”€â”€ Spec_template.md
â”‚       â”œâ”€â”€ parameters_template.toml
â”‚       â””â”€â”€ exe_template.md
â”‚
â””â”€â”€ SPECs/                       # Generated specifications (created by Commander)
    â”‚
    â”œâ”€â”€ [DNA_CODE_1]/            # Project 1 (e.g., ATGCTCGA)
    â”‚   â”‚
    â”‚   â”œâ”€â”€ project_constitution.toml  # Project configuration
    â”‚   â”‚
    â”‚   â”œâ”€â”€ spec_[descriptor_1]/       # First spec for this project
    â”‚   â”‚   â”œâ”€â”€ spec_[descriptor_1].md
    â”‚   â”‚   â”œâ”€â”€ parameters_[descriptor_1].toml
    â”‚   â”‚   â”œâ”€â”€ exe_[descriptor_1].md
    â”‚   â”‚   â””â”€â”€ progress_[descriptor_1].json  # Runtime log
    â”‚   â”‚
    â”‚   â””â”€â”€ spec_[descriptor_2]/       # Second spec for this project
    â”‚       â”œâ”€â”€ spec_[descriptor_2].md
    â”‚       â”œâ”€â”€ parameters_[descriptor_2].toml
    â”‚       â”œâ”€â”€ exe_[descriptor_2].md
    â”‚       â””â”€â”€ progress_[descriptor_2].json
    â”‚
    â””â”€â”€ [DNA_CODE_2]/            # Project 2 (e.g., TGCAATGC)
        â”œâ”€â”€ project_constitution.toml
        â””â”€â”€ spec_[descriptor]/
            â””â”€â”€ ...
```

### Path Conventions

**Framework Files:**
- Root: `__SPEC_Engine/`
- Constitution: `__SPEC_Engine/_Constitution/constitution.md`
- Commander: `__SPEC_Engine/_Commander_SPEC/Spec_Commander.md`
- DNA Interview: `__SPEC_Engine/_DNA/DNA_SPEC.md`
- Templates: `__SPEC_Engine/_templates/[template_name]`

**Generated Specs:**
- Root: `SPECs/`
- Project folder: `SPECs/[DNA_CODE]/` (8 characters, A/T/G/C only)
- Project config: `SPECs/[DNA_CODE]/project_constitution.toml`
- Spec folder: `SPECs/[DNA_CODE]/spec_[descriptor]/`
- Spec files: `SPECs/[DNA_CODE]/spec_[descriptor]/[spec|parameters|exe|progress]_[descriptor].[md|toml|json]`

### DNA Code Format

- **Length:** Exactly 8 characters
- **Alphabet:** A, T, G, C only (DNA nucleotides)
- **Generation:** Hash of project name, mapped to genetic code
- **Examples:** `ATGCTCGA`, `TGCAATGC`, `GCATTACG`
- **Uniqueness:** Project name determines DNA code consistently

### File Naming Conventions

| Component | Format | Example |
|-----------|--------|---------|
| Spec markdown | `spec_[descriptor].md` | `spec_charity_pos.md` |
| Parameters TOML | `parameters_[descriptor].toml` | `parameters_charity_pos.toml` |
| Execution controller | `exe_[descriptor].md` | `exe_charity_pos.md` |
| Progress log | `progress_[descriptor].json` | `progress_charity_pos.json` |
| Project config | `project_constitution.toml` | `project_constitution.toml` |

**Descriptor:** Single word summarising the goal (e.g., `research`, `debug`, `prototype`, `charity_pos`, `ecommerce`)

### Workspace Root Detection

The system assumes it's running from a workspace where:
1. `__SPEC_Engine/` directory exists at the root
2. `SPECs/` directory exists (or will be created) at the root
3. All paths are relative to this workspace root

**Cross-references in files** use these assumptions:
- Commander references: `__SPEC_Engine/_templates/Spec_template.md`
- Constitution references: `__SPEC_Engine/_Constitution/constitution.md`
- Spec references: `SPECs/[DNA_CODE]/spec_[descriptor]/`

### File Creation Rules

**Framework files (read-only):**
- Never modified by Commander or Exe
- Updated only during system maintenance
- Serve as templates and governance

**Project constitution (created once, updated rarely):**
- Created by DNA_SPEC.md interview
- Updated when project requirements change
- Shared across all specs in DNA folder

**Spec files (created per goal):**
- Generated by Spec_Commander.md
- Three files created simultaneously (spec, parameters, exe)
- Progress log created at runtime

**Runtime files (auto-generated):**
- `progress_[descriptor].json` created on first execution
- Append-only (never modified, only appended)
- Immutable after completion

### Permissions Assumptions

The system assumes it has permission to:
- Read all files in `__SPEC_Engine/`
- Create directories in `SPECs/`
- Create/read/append files in `SPECs/[DNA_CODE]/`
- Create spec folders in `SPECs/[DNA_CODE]/spec_[descriptor]/`

**No permission required for:**
- Modifying framework files (system never does this)
- Deleting any files (system preserves all logs and specs)

---

## Time Estimates

| Phase | Duration | Notes |
|-------|----------|-------|
| Step 1: Project Setup | 1-3 min | DNA detection + context + folder prep |
| Step 2: Draft Structure | 2-5 min | Depends on goal complexity |
| Step 3: Human Review | 1-10 min | User review time |
| Step 4: Generate Files | 3-10 min | Includes detailed steps |
| Step 5: Validation | 1-2 min | Automated checks |
| Step 6: Output | <1 min | File write |
| **Total Generation** | **8-31 min** | **Average: ~20 min** |
| Execution Section 1: Init | 1-2 min | Validation + mode selection |
| Execution Section 2: Tasks | Variable | Depends on goal complexity |
| Execution Section 6: Analysis | 2-5 min | Post-execution review |

---

## Success Metrics

| Metric | Target | Measured By |
|--------|--------|-------------|
| Goal singularity | 100% | Article I compliance |
| Critical balance | 40-60% | Article VI compliance |
| Spec completion rate | >90% | Execution Section 6.4 verification |
| Human review catch rate | N/A | Issues found at Step 3 |
| Execution failures | <20% | progress.json analysis |
| Article XIV compliance | 100% | For build goals |
| DNA profile adoption | >80% | Projects using project_constitution.toml |

---

**End of Workflow Diagram**

